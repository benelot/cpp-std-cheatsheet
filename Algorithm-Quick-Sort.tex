\documentclass[main]{subfiles}
\begin{document}

%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
% summarizes lecture 
% author:

\subsubsection{Quick Sort}
\renewcommand{\arraystretch}{1.5}
\definecolor{lgray}{gray}{0.95}
\definecolor{gray}{gray}{0.9}

\rowcolors{1}{lgray}{gray}

Some introduction text.

\scriptsize
\begin{lstlisting}[language=C++]
void quicksort(int array[], int start, int end){
    if(start < end){
    		int l=start+1, r=end, p = array[start];
        partition(l,r);
        quicksort(array, start, l);
        quicksort(array, r, end);
    }
}

int partition(int x[], int& l, int& r) {
    while(l < r){
        if(array[l] <= p)
    			l++;
      	else if(array[r] >= p)
        		r--;
  		else
			swap(array[l],array[r]);
  	}
  	if(array[l] < p){
   		swap(array[l],array[start]);
  		l--;
   	}
  	else{
   		l--;
    		swap(array[l],array[start]);
  	}
  	return l
}
\end{lstlisting}


\end{document}